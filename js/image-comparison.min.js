function checkPosition(e){e.each(function(){var e=$(this);$(window).scrollTop()+.5*$(window).height()>e.offset().top&&e.addClass("is-visible")})}function drags(e,a,i,t,o){e.on("mousedown vmousedown",function(d){e.addClass("draggable"),a.addClass("resizable");var s=e.outerWidth(),l=e.offset().left+s-d.pageX,n=i.offset().left,f=i.outerWidth(),u=n+10,r=n+f-s-10;e.parents().on("mousemove vmousemove",function(e){leftValue=e.pageX+l-s,leftValue<u?leftValue=u:leftValue>r&&(leftValue=r),widthValue=100*(leftValue+s/2-n)/f+"%",$(".draggable").css("left",widthValue).on("mouseup vmouseup",function(){$(this).removeClass("draggable"),a.removeClass("resizable")}),$(".resizable").css("width",widthValue),updateLabel(o,a,"left"),updateLabel(t,a,"right")}).on("mouseup vmouseup",function(){e.removeClass("draggable"),a.removeClass("resizable")}),d.preventDefault()}).on("mouseup vmouseup",function(){e.removeClass("draggable"),a.removeClass("resizable")})}function updateLabel(e,a,i){"left"==i?e.offset().left+e.outerWidth()<a.offset().left+a.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden"):e.offset().left>a.offset().left+a.outerWidth()?e.removeClass("is-hidden"):e.addClass("is-hidden")}jQuery(document).ready(function(e){checkPosition(e(".cd-image-container")),e(window).on("scroll",function(){checkPosition(e(".cd-image-container"))}),e(".cd-image-container").each(function(){var a=e(this);drags(a.find(".cd-handle"),a.find(".cd-resize-img"),a,a.find('.cd-image-label[data-type="original"]'),a.find('.cd-image-label[data-type="modified"]'))}),e(window).on("resize",function(){e(".cd-image-container").each(function(){var a=e(this);updateLabel(a.find('.cd-image-label[data-type="modified"]'),a.find(".cd-resize-img"),"left"),updateLabel(a.find('.cd-image-label[data-type="original"]'),a.find(".cd-resize-img"),"right")})})});
